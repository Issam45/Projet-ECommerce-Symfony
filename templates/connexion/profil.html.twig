
{% extends 'core/base.html.twig' %}
{% form_theme modificationForm 'bootstrap_5_layout.html.twig' %}
{% form_theme modificationMdpForm 'bootstrap_5_layout.html.twig' %}

{% block title %}Profile{% endblock %}

{% block content %}
    <div class="row"> 
        <div class="card bg-dark text-light pb-3 border-light col-lg-8 mx-auto"> 
            <h1 class="mt-3 mb-2 text-light">Profil</h1>

            {% for flash in app.flashes('profil')%}
                <div class="rounded-2 alert my-3 {{ flash.couleur }}">{{ flash.contenu }}</div> 
            {% endfor %}

            <form>
                <div class="form-outline mb-4 col-12">
                    <label class="form-label" for="courriel">Courriel:</label>
                    <input class="form-control" placeholder="{{ currentUser.courriel }}" type="text" name="_username" id="formControlDisabled" disabled>
                </div>
            </form>

            {# Debut du form #}
            {{ form_start(modificationForm, {'attr': {'class': 'needs-validation-register', 'novalidate': 'novalidate'}}) }}

                <div class="row"> 
                    <div class="col-6"> 
                        {{ form_row(modificationForm.nom) }}
                    </div> 
                    <div class="col-6"> 
                        {{ form_row(modificationForm.prenom) }} 
                    </div> 
                </div> 
                
                <div class="row"> 
                    <div class="col-8"> 
                        {{ form_row(modificationForm.adresse, {'attr': {'class': ''}}) }} 
                    </div> 
                    <div class="col-4"> 
                        {{ form_row(modificationForm.ville, {'attr': {'class': ''}}) }} 
                    </div> 
                </div> 

                <div class="row"> 
                    <div class="col-4"> 
                        {{ form_row(modificationForm.codePostal, {'attr': {'class': 'txtCodePostal'}}) }} 
                    </div> 
                    <div class="col-4"> 
                        {{ form_row(modificationForm.province, {'attr': {'class': ''}}) }} 
                    </div> 
                    <div class="col-4"> 
                        {{ form_row(modificationForm.telephone, {'attr': {'class': 'txtTelephone'}}) }} 
                    </div> 
                </div> 

                <div class="d-flex justify-content-center"> 
                    {{ form_row(modificationForm.valider) }} 
                </div>

            {{ form_end(modificationForm) }}
        </div>
    </div>  

    <div class="row pt-4"> 
        <div class="card bg-dark text-light pb-3 border-light col-lg-8 mx-auto"> 

            <h1 class="mt-3 mb-2 text-light">Modification du mot de passe</h1>

            {% for flash in app.flashes('mdp')%}
                <div class="alert my-3 {{ flash.couleur }}">{{ flash.contenu }}</div> 
            {% endfor %}

            {# Debut du form modification du mot de passe #}
            {{ form_start(modificationMdpForm, {'attr': {'class': 'needs-validation-register', 'novalidate': 'novalidate'}}) }}  

                <div class="col-5"> 
                    {{ form_row(modificationMdpForm.motDePasseActuel) }} 
                </div> 
                <div class="col-5"> 
                    {{ form_row(modificationMdpForm.nouveauMotDePasse.first) }} 
                </div> 
                <div class="col-5"> 
                    {{ form_row(modificationMdpForm.nouveauMotDePasse.second) }} 
                </div> 

                <div class="d-flex justify-content-center"> 
                    {{ form_row(modificationMdpForm.valider) }} 
                </div>

            {{ form_end(modificationMdpForm) }}
        </div>
    </div> 
{% endblock %}


{% block stylesheets %} 
    
{% endblock %}

{% block javascripts %}
    <script defer src="https://cdn.jsdelivr.net/npm/jquery-mask-plugin@1.14.16/dist/jquery.mask.min.js"></script>
	<script defer src="{{ asset('scripts/inscription.js')}}"></script>
{% endblock %}